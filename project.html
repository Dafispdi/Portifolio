<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <title>Reoclint Tools MultiFunction</title>
  <style>
:root{
  --bg1:#0a0f1a; --bg2:#0e1524; 
  --accent1:#4facfe; --accent2:#00f2fe; --card:#141e2f;
}

body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, var(--bg1), var(--bg2));
  color: #fff;
  -webkit-font-smoothing:antialiased;
  overflow-x: hidden;
}

/* Header */
.header {
  width: 100%; height: 240px; overflow: hidden;
  border-radius: 0 0 25px 25px;
  box-shadow: 0 8px 40px rgba(0,0,0,0.6);
  position: relative;
}
.header img {
  width: 100%; height: 100%; object-fit: cover;
  filter: brightness(0.6) saturate(1.15);
}
.header::after {
  content:""; position:absolute; inset:0;
  background:
    radial-gradient(1000px 320px at 50% -120px, rgba(79,172,254,.35), transparent 70%),
    linear-gradient(to bottom, rgba(0,0,0,.22), rgba(0,0,0,.8));
}

/* Container & Card */
.container { max-width: 980px; margin: -80px auto 40px; padding: 0 24px; }
.card {
  background: rgba(10,18,32,.88);
  border-radius: 20px; padding: 28px; margin: 24px 0;
  position: relative; isolation: isolate;
  box-shadow: 0 8px 28px rgba(0,0,0,.35);
}
.card::before {
  content: ""; position: absolute; inset: 0; border-radius: 20px; padding: .5px;
  background: linear-gradient(135deg, rgba(79,172,254,.25), rgba(0,242,254,.06));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  pointer-events: none;
}
.card:hover{ transform: translateY(-4px); box-shadow: 0 0 60px rgba(0,255,255,0.10);}    

h2 { margin:0 0 12px; font-size:1.45rem; letter-spacing:0.6px; }
h2 i { margin-right: 8px; }

/* Menu */
.menu {
  display:grid; grid-template-columns: repeat(auto-fit,minmax(150px,1fr)); gap:16px;
}
.menu .menu-item {
  display:flex; align-items:center; justify-content:center; gap:10px;
  min-height:60px;
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  padding:16px; border-radius:14px; text-align:center;
  cursor:pointer; font-weight:600;
  border:1px solid rgba(255,255,255,.05);
  transition: all .18s ease;
}
.menu .menu-item i { font-size:1.05rem; opacity:.95; }
.menu .menu-item:hover {
  transform: translateY(-6px) scale(1.02);
  border-color: rgba(79,172,254,.28);
  box-shadow: 0 12px 36px rgba(79,172,254,.16);
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
}

/* Inputs & Textarea */
.row{ display:flex; gap:12px; flex-wrap:wrap; }
input, textarea, select {
  flex:1; padding:12px 14px; border-radius:10px;
  background:#0f172a; color:#e6f0ff;
  border:1px solid rgba(79,172,254,.18);
  font-size:1rem; outline:none;
  transition: box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
input::placeholder, textarea::placeholder { color:#9fb3d2; }
textarea{ min-height:90px; }
input:focus, textarea:focus, select:focus {
  border-color: rgba(79,172,254,.45);
  box-shadow: 0 0 0 4px rgba(79,172,254,.12);
  background:#0b1728;
}

.muted{ color:#cbd5e1; font-size:.9rem; }

/* Controls & Button */
.controls{ margin-top:12px; display:flex; gap:12px; align-items:center; }
.btn{
  padding:12px 18px; border-radius:14px;
  border:1px solid rgba(79,172,254,.28);
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
  color:#02202b; font-weight:700;
  box-shadow:0 10px 22px rgba(79,172,254,.18);
  cursor:pointer; position:relative; overflow:hidden;
  transition: transform .08s ease, box-shadow .18s ease;
}
.btn:active{ transform:translateY(1px); }

/* Preview Box */
.preview{
  margin-top:16px; border-radius:14px; overflow:hidden;
  background: radial-gradient(800px 300px at 50% -20%, rgba(79,172,254,.14), transparent 70%), #0b1220;
  min-height:260px; display:flex; align-items:center; justify-content:center;
  box-shadow: inset 0 0 40px rgba(0,0,0,0.45);
}
.preview img{ max-width:100%; display:block; border-radius:10px; }
.spinner{
  border:6px solid rgba(255,255,255,0.12);
  border-top:6px solid var(--accent1);
  border-radius:50%; width:64px; height:64px;
  animation:spin 1s linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg);} }

/* Links & Download Btn */
.links{ display:flex; gap:12px; margin-top:14px; flex-wrap:wrap; }
.dl{
  padding:12px 14px; min-width:120px;
  display:inline-flex; align-items:center; gap:8px;
  background:linear-gradient(180deg, rgba(7,35,58,.85), rgba(7,35,58,.7));
  border-radius:10px; border:1px solid rgba(255,255,255,.08);
  text-align:center; color:#eaf6ff; cursor:pointer; font-weight:600;
}
.dl::before {
  content:"\f019"; font-family:"Font Awesome 6 Free"; font-weight:900;
}

/* Notes & small text */
.section-note, .small {
  margin-top:10px; padding:12px; font-size:.95rem;
  border:1px solid rgba(255,255,255,.06);
  border-radius:10px; backdrop-filter:blur(6px);
  background:linear-gradient(90deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  color:#dbeafe;
}
.small{ font-size:.9rem; color:#cbd5e1; }

/* eKTP grid */
.form-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:16px; }
.field{ display:flex; flex-direction:column; gap:6px; }
.field label{ font-size:.9rem; color:#dbeafe; opacity:.9; }
.row-gap{ margin-top:12px; }
@media (max-width:720px){ .form-grid{ grid-template-columns:1fr; } }

/* Extra spacing for XNXX */
#xnxx .row{ margin-bottom:14px; }
#xnxx .preview{ margin-top:18px; }
#xnxx .links{ margin-top:14px; }

/* Responsive tweaks */
@media (max-width:700px){
  .container{ padding:0 16px; }
  .card::before{ display:none; }
  .card{ box-shadow: 0 6px 20px rgba(0,0,0,.35); padding:22px; }
  .menu .menu-item{ min-height:56px; }
}
/* ===== THEME TOGGLE ===== */
.theme-toggle{
  position: fixed;
  right: 16px;
  bottom: 18px;
  z-index: 50;
  width: 46px; height: 46px;
  border-radius: 999px;
  display: grid; place-items: center;
  border: 1px solid rgba(255,255,255,.18);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  color: #fff;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
}
.theme-toggle:hover{ transform: translateY(-2px); box-shadow: 0 14px 28px rgba(0,0,0,.4); }
.theme-toggle i{ font-size: 1.1rem; }

/* ===== LIGHT THEME VARIANTS ===== */
@media (prefers-color-scheme: light){
  :root:not(.force-dark) .auto-light { } /* placeholder if needed */
}

/* ketika body punya class .light, override variable & surface */
body.light{
  color: #0b1220;
  background: linear-gradient(135deg, #f4f7fb, #e9f0f8);
}

/* variabel untuk mode terang */
body.light{
  --bg1:#f6f9ff;
  --bg2:#e9f0f8;
  --accent1:#3b82f6;
  --accent2:#22d3ee;
}

/* card & outline */
body.light .card{
  background: rgba(255,255,255,.86);
  box-shadow: 0 10px 28px rgba(17,24,39,.12);
}
body.light .card::before{
  background: linear-gradient(135deg, rgba(59,130,246,.35), rgba(34,211,238,.18));
}

/* heading, small notes */
body.light .section-note, body.light .small{
  background: linear-gradient(90deg, rgba(0,0,0,.03), rgba(0,0,0,.02));
  border-color: rgba(17,24,39,.08);
  color: #0f172a;
}

/* menu tiles */
body.light .menu .menu-item{
  background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.8));
  border-color: rgba(17,24,39,.07);
  color: #0b1220;
}
body.light .menu .menu-item:hover{
  border-color: rgba(59,130,246,.35);
  box-shadow: 0 12px 26px rgba(59,130,246,.18);
}

/* inputs */
body.light input,
body.light textarea,
body.light select{
  background: #ffffff !important;
  color: #0b1220 !important;
  border: 1px solid rgba(17,24,39,.12) !important;
}
body.light input::placeholder,
body.light textarea::placeholder{ color:#6b7280; }
body.light input:focus,
body.light textarea:focus,
body.light select:focus{
  border-color: rgba(59,130,246,.6) !important;
  box-shadow: 0 0 0 4px rgba(59,130,246,.18) !important;
  background: #ffffff !important;
}

/* preview */
body.light .preview{
  background:
    radial-gradient(800px 300px at 50% -20%, rgba(59,130,246,.10), transparent 70%),
    #ffffff !important;
  box-shadow: inset 0 0 40px rgba(0,0,0,.05);
}

/* buttons */
body.light .btn{
  color:#07233a;
  border-color: rgba(59,130,246,.35) !important;
  box-shadow: 0 10px 22px rgba(59,130,246,.16) !important;
}

/* download chip */
body.light .dl{
  background: linear-gradient(180deg, rgba(241,245,249,.95), rgba(226,232,240,.9));
  color: #0b1220;
  border-color: rgba(17,24,39,.08);
}

/* header overlay lebih soft */
body.light .header::after{
  background:
    radial-gradient(1000px 320px at 50% -120px, rgba(59,130,246,.28), transparent 70%),
    linear-gradient(to bottom, rgba(255,255,255,.22), rgba(255,255,255,.0));
}
  </style>
</head>
<body>
  <div class="header"><img id="headerImage" alt="header"></div>
  <div class="container"><div class="card">
  <h2><i class="fa-solid fa-bolt"></i> Quick Menu</h2>
  <div class="menu">
    <div class="menu-item" onclick="showSection('tiktok')">
  <i class="fa-solid fa-film"></i> TikTok Downloader
</div>

<div class="menu-item" onclick="showSection('xnxx')">
  <i class="fa-solid fa-quote-left"></i> Fake XNXX Quote
</div>

<div class="menu-item" onclick="showSection('ektp')">
  <i class="fa-solid fa-id-card"></i> eKTP Generator
</div>

<div class="menu-item" onclick="showSection('imagine')">
  <i class="fa-solid fa-wand-magic-sparkles"></i> Imagine
</div>

<div class="menu-item" onclick="showSection('qr')">
  <i class="fa-solid fa-qrcode"></i> QR Generator
</div>

<div class="menu-item" onclick="showSection('iqc')">
  <i class="fa-solid fa-palette"></i> IQC Maker
</div>

<div class="menu-item" onclick="showSection('github')">
  <i class="fa-brands fa-github"></i> Raw GitHub
</div>

<div class="menu-item" onclick="showSection('skiplink')">
  <i class="fa-solid fa-link-slash"></i> Bypass Link
</div>

<div class="menu-item" onclick="showSection('about')">
  <i class="fa-solid fa-user"></i> About
</div>

<div class="menu-item" onclick="showSection('support')">
  <i class="fa-solid fa-headset"></i> Support
  </div>

<!-- TikTok Downloader -->
<div class="card" id="tiktok" style="display:none;">
  <h2><i class="fa-solid fa-film"></i> TikTok Downloader</h2>
  <div class="small">Require: Full TikTok URL (contoh: <code>https://vt.tiktok.com/ZSDQUy2ma/</code>)</div>
  <div class="row" style="margin-top:12px;">
    <input id="tiktokUrl" placeholder="Masukkan URL TikTok..." />
    <button class="btn" onclick="downloadTiktok()">Download</button>
  </div>
  <div class="section-note">Tutor: Paste URL TikTok klik Download hasil akan tampil di bawah. Jika server mengembalikan link file, tombol download akan muncul.</div>
  <div class="preview" id="tiktokPreview"><div class="muted">Hasil akan tampil di sini</div></div>
  <div class="links" id="tiktokLinks" style="display:none;"></div>
</div>

<!-- XNXX Fake Quotes -->
<div class="card" id="xnxx" style="display:none;">
  <h2><i class="fa-solid fa-quote-left"></i> Fake XNXX Quote</h2>

  <div class="row">
    <input id="xnxxName" placeholder="Masukkan Nama" />
  </div>

  <div class="row">
    <textarea id="xnxxQuote" placeholder="Masukkan Quote..."></textarea>
  </div>

  <div class="row">
    <input id="xnxxLikes" placeholder="Jumlah Likes" type="number" />
    <input id="xnxxDislikes" placeholder="Jumlah Dislikes" type="number" />
  </div>

  <div class="controls">
    <button class="btn" onclick="generateXNXX()">Generate Quote</button>
  </div>

  <div class="preview" id="xnxxPreview">
    <div class="muted">Hasil akan tampil di sini</div>
  </div>

  <div class="links" id="xnxxLinks" style="display:none;"></div>

  <div class="section-note">
    Tutor: Isi Nama, Quote, Likes, Dislikes  klik Generate  hasil berupa gambar fake XNXX akan muncul.
  </div>
</div>

<!-- eKTP Generator (ringkas) -->
<div class="card" id="ektp" style="display:none;">
<h2><i class="fa-solid fa-id-card"></i> eKTP Generator</h2>

  <div class="form-grid">
    <div class="field"><label>NIK</label><input id="e_nik" placeholder="1234567890123456"></div>
    <div class="field"><label>Nama</label><input id="e_nama" placeholder="John Doe"></div>

    <div class="field"><label>TTL</label><input id="e_ttl" placeholder="Bandung, 01-01-1990"></div>
    <div class="field"><label>Jenis Kelamin</label><input id="e_jk" placeholder="Laki-laki / Perempuan"></div>

    <div class="field"><label>Golongan Darah</label><input id="e_goldar" placeholder="A/B/AB/O"></div>
    <div class="field"><label>Agama</label><input id="e_agama" placeholder="Islam"></div>

    <div class="field"><label>Status</label><input id="e_status" placeholder="Belum Kawin"></div>
    <div class="field"><label>Pekerjaan</label><input id="e_pekerjaan" placeholder="Pegawai Swasta"></div>

    <div class="field"><label>Kewarganegaraan</label><input id="e_kwg" placeholder="WNI"></div>
    <div class="field"><label>Masa Berlaku</label><input id="e_berlaku" placeholder="Seumur Hidup"></div>

    <div class="field"><label>Alamat</label><input id="e_alamat" placeholder="Jl. Contoh No. 123"></div>
    <div class="field"><label>Terbuat</label><input id="e_terbuat" placeholder="01-01-2023"></div>

    <div class="field"><label>Kel/Desa</label><input id="e_kel" placeholder="Sukajadi"></div>
    <div class="field"><label>RT/RW</label><input id="e_rtrw" placeholder="001/002"></div>

    <div class="field"><label>Kecamatan</label><input id="e_kec" placeholder="Sukajadi"></div>
    <div class="field"><label>Kota/Kab</label><input id="e_kota" placeholder="BANDUNG"></div>

    <div class="field"><label>Provinsi</label><input id="e_prov" placeholder="Jawa Barat"></div>
    <div class="field"><label>Pas Photo</label><input id="e_foto" type="file" accept="image/*"></div>
  </div>

  <div class="row-gap">
    <button class="btn" onclick="generateEktp()">Generate eKTP</button>
  </div>

  <div class="preview row-gap" id="ektpPreview"><div class="muted">Hasil eKTP akan tampil di sini</div></div>
  <div class="links" id="ektpLinks" style="display:none;"></div>

  <!-- tutor singkat -->
  <div class="section-note row-gap">
    <b>Require:</b> minimal NIK & Nama. Lainnya opsional tapi direkomendasikan.<br>
    <b>Tutor:</b> Isi form ‚Üí Generate ‚Üí download gambar eKTP.
  </div>
</div>

<!-- Skiplink/BYPASS -->
<div class="card" id="skiplink" style="display:none;">
<h2><i class="fa-solid fa-link-slash"></i> Bypass / Skip Link</h2>
  <div class="small">Require: Short/redirect URL (contoh: <code>https://bit.ly/xxxx</code>)</div>
  <div class="row" style="margin-top:12px;">
    <input id="skipUrl" placeholder="Masukkan link yang ingin dibypass..." />
    <button class="btn" onclick="bypassLink()">Bypass</button>
  </div>
  <div class="section-note">Tutor: Masukkan link klik Bypass API akan mencoba buka & mengembalikan target akhir. Tidak semua link bisa dibypass jika memakai proteksi.</div>
  <div class="preview" id="skipPreview"><div class="muted">Hasil akan tampil di sini</div></div>
  <div class="links" id="skipLinks" style="display:none;"></div>
</div>

<!-- Imagine (kept) -->
<div class="card" id="imagine" style="display:none;">
  <h2><i class="fa-solid fa-wand-magic-sparkles"></i> Imagine Text  Image</h2>
  <textarea id="imPrompt" placeholder="Tulis prompt gambar..."></textarea>
  <div class="row" style="margin-top:10px;">
    <select id="imStyle"><option value="">Default</option><option value="realistic">Realistic</option><option value="anime">Anime</option><option value="cinematic">Cinematic</option><option value="digital-art">Digital Art</option></select>
    <select id="imAR"><option value="1:1">1:1</option><option value="16:9">16:9</option><option value="9:16">9:16</option><option value="4:3">4:3</option></select>
  </div>
  <div class="controls"><button class="btn" onclick="generateImage()">Generate</button></div>
  <div class="preview" id="imPreview"><div class="muted">Hasil akan tampil di sini</div></div>
  <div class="links" id="imLinks" style="display:none;"></div>
</div>

<!-- Other existing cards (GitHub, QR, IQC, About, Support) -->
<div class="card" id="github" style="display:none;">
<h2><i class="fa-brands fa-github"></i> Raw GitHub Converter</h2>
  <div class="input-box"><input id="githubUrl" placeholder="Paste GitHub URL here..." /><button class="btn" onclick="convertUrl()">Convert</button></div>
  <div class="section-note">Copy raw GitHub file URL untuk langsung di-embed atau fetch.</div>
  <div class="preview" id="githubOut"><div class="muted">Hasil akan tampil di sini</div></div>
</div>

<div class="card" id="qr" style="display:none;">
  <h2><i class="fa-solid fa-qrcode"></i> QR Generator</h2>
  <div class="row"><input id="qrText" placeholder="Enter text / URL..." /><button class="btn" onclick="generateQR()">Generate</button></div>
  <div class="preview" id="qrPreview"><img id="qrImage" src="" style="max-width:240px; border-radius:8px;" /></div>
</div>

<div class="card" id="iqc" style="display:none;">
  <h2><i class="fa-solid fa-palette"></i> IQC Maker</h2>
  <div class="row"><input id="iqcText" placeholder="Masukkan teks..." /><button class="btn" onclick="createIQC()">Create</button></div>
  <div class="preview" id="previewBox"><div class="muted">Hasil akan tampil di sini</div></div>
  <div class="links"><div id="btnDownload" class="dl" style="display:none;" onclick="downloadIQC()">‚¨áÔ∏è Download</div><div id="btnOpen" class="dl" style="display:none;" onclick="openIQC()">üîó Open</div></div>
</div>

<div class="card" id="about" style="display:none;"><h2><i class="fa-solid fa-user"></i> About Development</h2><p>Created by <b>Reoclint & KyxzanTzy</b><br>UI inspired aesthetic dashboard.<br>Age: 16 | Beginner in JS, HTML, CSS</p></div>
<div class="card" id="support" style="display:none;"><h2><i class="fa-solid fa-headset"></i> Support</h2><p>Dikembang Kan oleh:<br>Telegram: <b>@ReoclintV2</b><br>Telegram: <b>@Kyxsancs</b><br>YouTube: <b>Ovcynaa</b><br>YouTube: <b>KyxsanGaming</b></p></div>

  </div>
  <!-- Theme Toggle -->
<button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
  <i class="fa-solid fa-sun"></i>
</button>

<script>
	// === THEME TOGGLER ===
// prefer system on first load, then respect saved choice
(function(){
  const btn = document.getElementById('themeToggle');
  const KEY = 'reoclint-theme';
  const sysPrefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;

  // apply theme
  function apply(mode){
    document.body.classList.toggle('light', mode === 'light');
    btn.innerHTML = mode === 'light'
      ? '<i class="fa-solid fa-moon"></i>'
      : '<i class="fa-solid fa-sun"></i>';
  }

  // load saved or system
  const saved = localStorage.getItem(KEY);
  const startMode = saved || (sysPrefersLight ? 'light' : 'dark');
  apply(startMode);

  // toggle on click
  btn.addEventListener('click', ()=>{
    const nowLight = !document.body.classList.contains('light');
    const mode = nowLight ? 'light' : 'dark';
    apply(mode);
    localStorage.setItem(KEY, mode);
  });
})();
  // header images
  const photos=["https://files.catbox.moe/t2xxcn.jpg","https://files.catbox.moe/wju39l.jpg","https://files.catbox.moe/y95obq.jpg","https://files.catbox.moe/ig2zjx.jpg"];
  document.getElementById("headerImage").src=photos[Math.floor(Math.random()*photos.length)];

  function showSection(id){
    ['github','qr','iqc','imagine','tiktok','skiplink','about','support'].forEach(s=>{ const el=document.getElementById(s); if(el) el.style.display='none'; });
    document.getElementById(id).style.display='block';
    window.scrollTo({top:0,behavior:'smooth'});
  }
  
async function generateEktp(){
  const pv = document.getElementById("ektpPreview");
  const lk = document.getElementById("ektpLinks");
  pv.innerHTML = '<div class="spinner"></div>'; lk.style.display='none'; lk.innerHTML='';

  const fd = new FormData();
  // wajib
  fd.append('nik',  document.getElementById('e_nik').value.trim());
  fd.append('nama', document.getElementById('e_nama').value.trim());
  // lainnya (ikuti nama field dari curl)
  const get = id => document.getElementById(id).value.trim();
  const opt = (k,v)=>{ if(v) fd.append(k,v); };

  opt('ttl', get('e_ttl'));
  opt('jenis_kelamin', get('e_jk'));
  opt('golongan_darah', get('e_goldar'));
  opt('agama', get('e_agama'));
  opt('status', get('e_status'));
  opt('pekerjaan', get('e_pekerjaan'));
  opt('kewarganegaraan', get('e_kwg'));
  opt('alamat', get('e_alamat'));
  opt('rt/rw', get('e_rtrw'));
  opt('kel/desa', get('e_kel'));
  opt('kecamatan', get('e_kec'));
  opt('kota', get('e_kota'));
  opt('provinsi', get('e_prov'));
  opt('masa_berlaku', get('e_berlaku'));
  opt('terbuat', get('e_terbuat'));

  const foto = document.getElementById('e_foto').files[0];
  if (foto) fd.append('pas_photo', foto, foto.name);

  if(!fd.get('nik') || !fd.get('nama')){
    pv.innerHTML = '<div class="error">Require: NIK dan Nama wajib diisi.</div>'; 
    return;
  }

  try{
    const r = await fetch('https://api.siputzx.my.id/api/m/ektp', { method:'POST', body: fd });
    if(!r.ok) throw new Error('HTTP '+r.status);
    const blob = await r.blob();
    const url = URL.createObjectURL(blob);

    pv.innerHTML = '';
    const img = document.createElement('img'); img.src = url; pv.appendChild(img);

    const d = document.createElement('div');
    d.className = 'dl'; d.innerText = 'Download eKTP';
    d.onclick = ()=>{ const a=document.createElement('a'); a.href=url; a.download='ektp.png'; a.click(); };
    lk.appendChild(d); lk.style.display = 'flex';
  }catch(err){
    const msg = (String(err).includes('Failed to fetch')) 
      ? 'Gagal fetch (kemungkinan CORS). Jalankan via server/proxy.' 
      : err.message;
    pv.innerHTML = '<div class="error">Gagal generate: '+msg+'</div>';
  }
}
// --- Fake XNXX Quote ---
async function generateXNXX() {
  const name = document.getElementById('xnxxName').value.trim();
  const quote = document.getElementById('xnxxQuote').value.trim();
  let likes = document.getElementById('xnxxLikes').value.trim();
  let dislikes = document.getElementById('xnxxDislikes').value.trim();

  const pv = document.getElementById('xnxxPreview');
  const lk = document.getElementById('xnxxLinks');

  // validasi wajib
  if (!name || !quote) {
    alert('Require: Nama & Quote harus diisi');
    return;
  }

  // validasi angka likes
  if (!likes) {
    likes = "0";
  } else if (isNaN(likes)) {
    alert("Likes harus berupa angka");
    return;
  }

  // validasi angka dislikes
  if (!dislikes) {
    dislikes = "0";
  } else if (isNaN(dislikes)) {
    alert("Dislikes harus berupa angka");
    return;
  }

  pv.innerHTML = '<div class="spinner"></div>';
  lk.style.display = 'none';
  lk.innerHTML = '';

  try {
    const api = `https://api.siputzx.my.id/api/canvas/fake-xnxx?name=${encodeURIComponent(name)}&quote=${encodeURIComponent(quote)}&likes=${encodeURIComponent(likes)}&dislikes=${encodeURIComponent(dislikes)}`;

    const resp = await fetch(api);
    if (!resp.ok) throw new Error('HTTP ' + resp.status);

    const blob = await resp.blob();
    const url = URL.createObjectURL(blob);

    pv.innerHTML = '';
    const img = document.createElement('img');
    img.src = url;
    pv.appendChild(img);

    const d = document.createElement('div');
d.className = 'dl';
d.innerText = ' Download';
d.style.marginTop = "12px";   // jarak dari gambar
d.onclick = () => {
  const a = document.createElement('a');
  a.href = url;
  a.download = 'xnxx_quote.png';
  a.click();
};

    lk.appendChild(d);
    lk.style.display = 'flex';

  } catch (err) {
    pv.innerHTML = '<div class="error">Error: ' + err.message + '</div>';
  }
}
  // --- TikTok Downloader ---
  async function downloadTiktok(){
    const url=document.getElementById('tiktokUrl').value.trim();
    const preview=document.getElementById('tiktokPreview');
    const links=document.getElementById('tiktokLinks');
    if(!url){ alert('Masukkan URL TikTok lengkap.'); return; }
    preview.innerHTML='<div class="spinner"></div>';
    links.style.display='none'; links.innerHTML='';
    try{
      const api = 'https://api.siputzx.my.id/api/d/tiktok?url='+encodeURIComponent(url);
      const resp = await fetch(api);
      if(!resp.ok) throw new Error('HTTP '+resp.status);
      const data = await resp.json();
      // data structure may vary; attempt common fields
      // show metadata
      let metaHtml = '<div style="padding:12px;text-align:left;color:#dbeafe">';
      if(data.author) metaHtml += '<b>Author:</b> '+data.author+'<br>';
      if(data.title) metaHtml += '<b>Title:</b> '+data.title+'<br>';
      metaHtml += '</div>';
      preview.innerHTML = metaHtml;

      // create buttons for available links
      const makeBtn = (label, href)=>{
        const d = document.createElement('div'); d.className='dl'; d.innerText=label; d.onclick=()=>window.open(href,'_blank','noopener'); return d;
      };
      // common fields
      if(data.nowm) links.appendChild(makeBtn('Download (no watermark)', data.nowm));
      if(data.watermark) links.appendChild(makeBtn('Download (watermark)', data.watermark));
      if(data.audio) links.appendChild(makeBtn('Download Audio', data.audio));

      // fallback: if data.url present
      if(!links.hasChildNodes() && data.url) links.appendChild(makeBtn('Open Link', data.url));

      if(links.hasChildNodes()){ links.style.display='flex'; }
      else { preview.innerHTML += '<div class="small" style="margin-top:10px;color:#ffc">No downloadable links found in API response.</div>'; }

    }catch(err){ preview.innerHTML='<div class="error">Error: '+err.message+'</div>'; }
  }

  // --- Skiplink / Bypass ---
  async function bypassLink(){
    const url=document.getElementById('skipUrl').value.trim();
    const preview=document.getElementById('skipPreview');
    const links=document.getElementById('skipLinks');
    if(!url){ alert('Masukkan link untuk dibypass.'); return; }
    preview.innerHTML='<div class="spinner"></div>';
    links.style.display='none'; links.innerHTML='';
    try{
      const api='https://api.siputzx.my.id/api/tools/skiplink?url='+encodeURIComponent(url);
      const resp=await fetch(api);
      if(!resp.ok) throw new Error('HTTP '+resp.status);
      const data=await resp.json();
      // data might contain target or final_url
      let html = '<div style="padding:12px;text-align:left;color:#dbeafe">';
      if(data.target) html += '<b>Target:</b> '+data.target+'<br>';
      if(data.final_url) html += '<b>Final URL:</b> '+data.final_url+'<br>';
      if(data.message) html += '<b>Message:</b> '+data.message+'<br>';
      html += '</div>';
      preview.innerHTML = html;
      if(data.final_url){ const d=document.createElement('div'); d.className='dl'; d.innerText='Open Final URL'; d.onclick=()=>window.open(data.final_url,'_blank','noopener'); links.appendChild(d); }
      if(links.hasChildNodes()) links.style.display='flex';
    }catch(err){ preview.innerHTML='<div class="error">Error: '+err.message+'</div>'; }
  }

  // --- Imagine (kept) ---
  const API_KEY='vk-WtuKaUQUCsrL2k3WDFJP3PBvaD2jgOZnrR5edqUPEwZcg28';
  async function generateImage(){
    const prompt=document.getElementById('imPrompt').value.trim();
    const style=document.getElementById('imStyle').value;
    const ar=document.getElementById('imAR').value;
    const preview=document.getElementById('imPreview');
    const links=document.getElementById('imLinks');
    if(!prompt){ alert('Masukkan prompt!'); return; }
    preview.innerHTML='<div class="spinner"></div>'; links.style.display='none'; links.innerHTML='';
    try{
      const form=new FormData(); form.append('prompt',prompt); if(style) form.append('style',style); if(ar) form.append('aspect_ratio',ar);
      const resp=await fetch('https://api.vyro.ai/v2/image/generations',{ method:'POST', headers:{ 'Authorization': 'Bearer '+API_KEY }, body: form });
      if(!resp.ok) throw new Error('HTTP '+resp.status);
      const blob=await resp.blob(); const url=URL.createObjectURL(blob);
      preview.innerHTML=''; const img=document.createElement('img'); img.src=url; preview.appendChild(img);
      const d=document.createElement('div'); d.className='dl'; d.innerText='Download Image'; d.onclick=()=>{ const a=document.createElement('a'); a.href=url; a.download='imagine.png'; a.click(); };
      links.appendChild(d); links.style.display='flex';
    }catch(err){ preview.innerHTML='<div class="error">Gagal generate: '+err.message+'</div>'; }
  }

  // --- GitHub Converter ---
  function convertUrl(){ const input=document.getElementById('githubUrl').value.trim(); const out=document.getElementById('githubOut'); if(!input.includes('github.com')){ out.innerHTML='<div class="error">Invalid GitHub URL.</div>'; return; } const raw=input.replace('github.com','raw.githubusercontent.com').replace('/blob/','/'); out.innerHTML='<div class="small">Raw URL:</div><div style="margin-top:6px;background:#08121a;padding:10px;border-radius:8px;">'+raw+'</div>'; }

  // --- QR ---
  function generateQR(){ const text=document.getElementById('qrText').value.trim(); if(!text) return; document.getElementById('qrImage').src='https://api.qrserver.com/v1/create-qr-code/?size=300x300&data='+encodeURIComponent(text); }

  // --- IQC Maker ---
  const API_BASE='https://api.sxtream.xyz/maker/iqc?text='; let lastUrl=null,lastBlob=null; async function createIQC(){ const text=document.getElementById('iqcText').value.trim(); const prev=document.getElementById('previewBox'); const btnD=document.getElementById('btnDownload'); const btnO=document.getElementById('btnOpen'); if(!text) return alert('Masukkan teks dulu!'); prev.innerHTML='<div class="spinner"></div>'; btnD.style.display='none'; btnO.style.display='none'; try{ const resp=await fetch(API_BASE+encodeURIComponent(text)); if(!resp.ok) throw new Error('HTTP '+resp.status); const blob=await resp.blob(); lastBlob=blob; lastUrl=URL.createObjectURL(blob); prev.innerHTML=''; const img=document.createElement('img'); img.src=lastUrl; prev.appendChild(img); btnD.style.display='inline-block'; btnO.style.display='inline-block'; btnD.onclick=()=>{ const a=document.createElement('a'); a.href=lastUrl; a.download='iqc.png'; a.click(); }; btnO.onclick=()=>window.open(lastUrl,'_blank','noopener'); }catch(err){ prev.innerHTML='<div class="error">Gagal memuat hasil.</div>'; } }

  // header init
  document.addEventListener('DOMContentLoaded',()=>{ document.getElementById('headerImage').src=photos[Math.floor(Math.random()*photos.length)]; });

  // initial show menu
  showSection('imagine');
  // ripple klik untuk semua .btn
document.addEventListener('click', (e) => {
  const btn = e.target.closest('.btn');
  if (!btn) return;
  const ripple = document.createElement('span');
  const rect = btn.getBoundingClientRect();
  const size = Math.max(rect.width, rect.height);
  const x = e.clientX - rect.left - size/2;
  const y = e.clientY - rect.top - size/2;
  ripple.style.position = 'absolute';
  ripple.style.left = x + 'px';
  ripple.style.top = y + 'px';
  ripple.style.width = ripple.style.height = size + 'px';
  ripple.style.borderRadius = '50%';
  ripple.style.pointerEvents = 'none';
  ripple.style.background = 'radial-gradient(circle, rgba(255,255,255,.45) 0%, rgba(255,255,255,0) 60%)';
  ripple.style.opacity = '0.6';
  ripple.style.transform = 'scale(0.2)';
  ripple.style.transition = 'transform 450ms ease, opacity 600ms ease';
  btn.appendChild(ripple);
  requestAnimationFrame(() => {
    ripple.style.transform = 'scale(1.6)';
    ripple.style.opacity = '0';
  });
  setTimeout(() => ripple.remove(), 650);
});
</script>
</body>
</html>